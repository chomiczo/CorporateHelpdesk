@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager

@if (SignInManager.IsSignedIn(User))
{
    <div class="user-profile mt-auto border-top border-secondary">
        <div class="d-flex align-items-center p-3">
            <div class="flex-shrink-0">
                <i class="bi bi-person-circle fs-3 text-info"></i>
            </div>
            <div class="flex-grow-1 ms-3 overflow-hidden">
                <a class="d-block fw-bold text-white text-decoration-none text-truncate"
                   asp-area="Identity" asp-page="/Account/Manage/Index" title="Zarządzaj kontem">
                    @User.Identity?.Name
                </a>
                <small class="text-white-50 d-block" style="font-size: 0.75rem;">
                    @(User.IsInRole("Admin") ? "Administrator" : "Pracownik")
                </small>
            </div>
            <form class="ms-2" asp-area="Identity" asp-page="/Account/Logout"
                  asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })" method="post">
                <button type="submit" class="btn btn-link p-0 text-danger border-0">
                    <i class="bi bi-box-arrow-right fs-4"></i>
                </button>
            </form>
        </div>
    </div>
}